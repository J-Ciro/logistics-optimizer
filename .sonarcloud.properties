# SonarCloud Configuration for Logistics Optimizer
# Multi-module project with TypeScript/JavaScript (Node.js Backend + React Frontend)

# Project identification
sonar.projectKey=J-Ciro_logistics-optimizer
sonar.organization=j-ciro
sonar.projectName=logistics-optimizer
sonar.projectVersion=1.0

# Source directories (relative paths from project root)
# Explicitly exclude __tests__ directories from sources
sonar.sources=shipping-optimizer/logistics-back/src,shipping-optimizer/logistics-front/src

# Test directories
sonar.tests=shipping-optimizer/logistics-back/src/__tests__,shipping-optimizer/logistics-front/src/__tests__

# Coverage reports
sonar.javascript.lcov.reportPaths=shipping-optimizer/logistics-back/coverage/lcov.info,shipping-optimizer/logistics-front/coverage/lcov.info
sonar.typescript.lcov.reportPaths=shipping-optimizer/logistics-back/coverage/lcov.info,shipping-optimizer/logistics-front/coverage/lcov.info

# Files to exclude from analysis (most important - excludes test files from being analyzed as source code)
sonar.exclusions=**/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/__tests__/**,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/test/**,\
  **/setupTests.ts,\
  **/setup.ts,\
  **/vitest.config.ts,\
  **/vite.config.ts,\
  **/jest.config.js,\
  **/*.config.ts,\
  **/*.config.js,\
  **/*.d.ts,\
  **/main.tsx,\
  **/index.ts

# Test file patterns (tells SonarQube what to treat as tests)
sonar.test.inclusions=**/__tests__/**/*.ts,\
  **/__tests__/**/*.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.test.ts,\
  **/*.test.tsx

# Files to exclude from coverage calculation
sonar.coverage.exclusions=**/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/__tests__/**,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/test/**,\
  **/setupTests.ts,\
  **/setup.ts,\
  **/vitest.config.ts,\
  **/jest.config.js,\
  **/*.config.ts,\
  **/*.config.js,\
  **/main.tsx,\
  **/index.ts,\
  **/App.tsx

# Duplicate code detection exclusions (exclude tests from duplication analysis)
sonar.cpd.exclusions=**/__tests__/**,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.test.ts,\
  **/*.test.tsx

# Encoding
sonar.sourceEncoding=UTF-8

# Language-specific settings
sonar.typescript.tsconfigPath=shipping-optimizer/logistics-back/tsconfig.json,shipping-optimizer/logistics-front/tsconfig.json